<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="/bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="../../bower_components/app-route/app-location.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<!--
  TODO:
//https
//options for changing the visualization configuration of the gallery
//add pages: photography, multimedia, ...
//big image that fades to black with title and navigation at the edge. condense on scroll...
//random images slide on home page, go to relevant page on click
//min-width

//non-google components
//google-analytics
//google-youtube
//neon animations
//app-localize-behavior

//app-grid + iron-list
//paper-card (put images in those?)
//app-box (parallax)
//paper-dialog
//paper-fab
//paper-dropdown-menu
//paper-icon-button
//paper-material
//paper-tabs
//paper-tooltip
//iron-image
-->

<dom-module id="Komoscope-app">
  <template>

    <!--TODO: have shared styles-->
    <style>
      :host {
        display: block;
      }
      app-header {
        height: 150px;
        background-color: #444;
        color: white;
        /*--app-header-shadow*/
      }
      app-toolbar {
        height: 100px;
      }
      [main-title] {
        text-align: center;
        font-weight: bold;
        font-size: 30px;
      }
      /*[condensed-title] {
        text-align: center;
        font-weight: bold;
        font-size: 15px;
      } */
      paper-button {
        background-color:white;
      }
      a:link {
        text-decoration: none;
      }
      a:visited {
        text-decoration: none;
      }
      a:hover {
        text-decoration: none;
      }
      a:active {
        text-decoration: none;
      }
      .content {
        height: 800px;
      }
    </style>

    <app-location route="{{route}}"></app-location>
    <app-route
      route="{{route}}"
      pattern="/:page"
      data="{{routeData}}"
      tail="{{routeTail}}">
    </app-route>
    
    <app-header-layout>
      <!--TODO: custom scroll effect-->
      <app-header effects="waterfall resize-snapped-title" condenses fixed>
        <app-toolbar>
          <a href="/" main-title top-item>KOMOSCOPE</a>
          <a href="/artiste"><paper-button raised>L'artiste</paper-button></a>
          <a href="/sculpture"><paper-button raised>Sculpture</paper-button></a>
          <a href="/dessin"><paper-button raised>Dessin</paper-button></a>
          <a href="/peinture"><paper-button raised>Peinture</paper-button></a>
        </app-toolbar>
      </app-header>

      <iron-pages
          class="content"
          selected="[[page]]"
          attr-for-selected="name"
          fallback-selection="notfound">
          <!--different components for each page-->
        <div name="" style="background-color:gray;height:100%"></div>
        <div name="artiste" style="background-color:black;height:100%"></div>
        <div name="sculpture" style="background-color:brown;height:100%"></div>
        <div name="dessin" style="background-color:blue;height:100%"></div>
        <div name="peinture" style="background-color:green;height:100%"></div>
        <div name="notfound" style="background-color:red;height:100%"></div>
      </iron-pages>
    </app-header-layout>
  </template>

  <script>
    Polymer({

      is: 'Komoscope-app',

      properties: {
        page: {
          type: String,
          reflectToAttribute: true,
          observer: '_pageChanged'
        },
      },

      observers: [
        '_routePageChanged(routeData.page)'
      ],

      _routePageChanged: function(page) {
        this.page = page || '';
      },

      _pageChanged: function(page) {
        // Load page import on demand. Show notfound 404 page if fails
        // var resolvedPageUrl = this.resolveUrl(page + '.html');
        // this.importHref(resolvedPageUrl, null, this._showNotFoundPage, true);
      },

      _showNotFoundPage: function() {
        this.page = 'notfound';
      }

    });
  </script>
</dom-module>
